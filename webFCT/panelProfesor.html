<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Panel de Profesor</title>
    <!-- Vinculación correcta con Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  </head>

  <body class="bg-light">
    <div class="container mt-4">
      <h1 class="mb-4">Panel de Profesor</h1>
      <a href="index.html" class="btn btn-danger">Cerrar sesión</a>
      <h3 class="mt-3">Registro de Alumnos</h3>

      <div class="row">
        <!-- Columna para el formulario de registro de alumno -->
        <div class="col-md-6">
          <div class="p-4 border shadow bg-white rounded">
            <label for="idAlumno" class="form-label">ID del Alumno:</label>
            <input
              type="text"
              name="idAlumno"
              id="idAlumno"
              class="form-control"
            />

            <label for="nombreCompleto" class="form-label mt-2"
              >Nombre Completo:</label
            >
            <input
              type="text"
              name="nombreCompleto"
              id="nombreCompleto"
              class="form-control"
            />

            <label for="fechaNacimiento" class="form-label mt-2"
              >Fecha de Nacimiento:</label
            >
            <input
              type="date"
              name="fechaNacimiento"
              id="fechaNacimiento"
              class="form-control"
            />

            <label for="genero" class="form-label mt-2">Género:</label>
            <select name="genero" id="genero" class="form-select">
              <option value="">Seleccione una opción</option>
              <option value="Masculino">Masculino</option>
              <option value="Femenino">Femenino</option>
              <option value="Otro">Otro</option>
              <option value="Prefiero no decirlo">Prefiero no decirlo</option>
            </select>

            <label for="email" class="form-label mt-2"
              >Correo Electrónico:</label
            >
            <input type="email" name="email" id="email" class="form-control" />

            <label for="telefono" class="form-label mt-2"
              >Número de Teléfono:</label
            >
            <input
              type="tel"
              name="telefono"
              id="telefono"
              class="form-control"
              pattern="[+][0-9]{2} [0-9]{9}"
              placeholder="+34 612345678"
            />

            <label for="direccion" class="form-label mt-2">Dirección:</label>
            <textarea
              name="direccion"
              id="direccion"
              class="form-control"
              rows="3"
            ></textarea>

            <label for="centroEducativo" class="form-label mt-2"
              >Centro Educativo:</label
            >
            <select
              name="centroEducativo"
              id="centroEducativo"
              class="form-select"
            >
              <option value="">Seleccione un centro</option>
              <option value="IES 1">IES 1</option>
              <option value="IES 2">IES 2</option>
            </select>
            <button
              @click="registrarAlumno"
              class="btn btn-danger btn-sm float-end mt-3"
            >
              Registrar
            </button>
          </div>
        </div>

        <!-- Columna para mostrar la información de alumnos, empresas y contactos -->
        <div id="app" class="col-md-6">
          <div class="p-4 border shadow bg-white rounded">
            <h4 @click="toggleSection('alumnos')">Tus alumnos</h4>
            <div v-if="mostrarAlumnos">
              <div v-for="alumno in listado" :key="alumno.codigo">
                <br>
                <h4>{{alumno.nombre}}</h4>
                <label for="nombre">Nombre:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="alumno.nombre"
                />

                <label for="clase">Clase:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="alumno.clase"
                />

                <label for="fechaNacimiento">Fecha de Nacimiento:</label>
                <input
                  type="date"
                  class="form-control mb-2"
                  v-model="alumno.fechaNacimiento"
                />

                <label for="genero">Género:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="alumno.genero"
                />

                <label for="email">Correo Electrónico:</label>
                <input
                  type="email"
                  class="form-control mb-2"
                  v-model="alumno.email"
                />

                <label for="telefono">Número de Teléfono:</label>
                <input
                  type="tel"
                  class="form-control mb-2"
                  v-model="alumno.telefono"
                />

                <label for="direccion">Dirección:</label>
                <textarea
                  class="form-control mb-2"
                  rows="2"
                  v-model="alumno.direccion"
                ></textarea>

                <label for="centroEducativo">Centro Educativo:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="alumno.centroEducativo"
                />

                <label for="tutor">Tutor:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="alumno.tutor"
                />

                <label for="estadoAlumno">Estado del Alumno:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="alumno.estadoAlumno"
                />

                <label for="fechaInscripcion">Fecha de Inscripción:</label>
                <input
                  type="date"
                  class="form-control mb-2"
                  v-model="alumno.fechaInscripcion"
                />

                <label for="fotoPerfil">Foto de Perfil:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="alumno.fotoPerfil"
                />

                <label for="notasAcademicas">Notas Académicas:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="alumno.notasAcademicas"
                />

                <label for="observaciones">Observaciones:</label>
                <textarea
                  class="form-control mb-2"
                  rows="2"
                  v-model="alumno.observaciones"
                ></textarea>

                <label for="estadoPracticas">Estado de Prácticas:</label>
                <select
                  v-model="alumno.estado_practicas"
                  class="form-select mt-2"
                >
                  <option value="NO REALIZA PRACTICAS">
                    NO REALIZA PRACTICAS
                  </option>
                  <option value="PENDIENTE ASIGNACION DE PRACTICAS">
                    PENDIENTE ASIGNACION DE PRACTICAS
                  </option>
                  <option value="ASIGNADO A EMPRESA">ASIGNADO A EMPRESA</option>
                  <option value="FINALIZADAS">FINALIZADAS</option>
                </select>
                <button
                  @click="actualizarAlumno(alumno.codigo)"
                  class="btn btn-danger btn-sm float-end mt-2"
                >
                  Actualizar
                </button>
              </div>
            </div>
          </div>

          <div class="p-4 border shadow bg-white rounded mt-3">
            <h4 @click="toggleSection('empresas')">Empresas solicitantes</h4>
            <div v-if="mostrarEmpresas">
              <div v-for="empresa in listadoEmpresas" :key="empresa.codigo">
                <br>
                <h4>{{empresa.nombre}}</h4>
                <label for="nombre">Nombre:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.nombre"
                />

                <label for="razonSocial">Razón Social:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.razonSocial"
                />

                <label for="tipo">Tipo:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.tipo"
                />

                <label for="nif">NIF:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.nif"
                />

                <label for="email">Correo Electrónico:</label>
                <input
                  type="email"
                  class="form-control mb-2"
                  v-model="empresa.email"
                />

                <label for="telefono">Número de Teléfono:</label>
                <input
                  type="tel"
                  class="form-control mb-2"
                  v-model="empresa.telefono"
                />

                <label for="direccion">Dirección:</label>
                <textarea
                  class="form-control mb-2"
                  rows="2"
                  v-model="empresa.direccion"
                ></textarea>

                <label for="ciudad">Ciudad:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.ciudad"
                />

                <label for="codigoPostal">Código Postal:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.codigoPostal"
                />

                <label for="pais">País:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.pais"
                />

                <label for="fechaConstitucion">Fecha de Constitución:</label>
                <input
                  type="date"
                  class="form-control mb-2"
                  v-model="empresa.fechaConstitucion"
                />

                <label for="sector">Sector:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.sector"
                />

                <label for="numeroEmpleados">Número de Empleados:</label>
                <input
                  type="number"
                  class="form-control mb-2"
                  v-model="empresa.numeroEmpleados"
                />

                <label for="sitioWeb">Sitio Web:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.sitioWeb"
                />

                <label for="logo">Logo:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.logo"
                />

                <label for="representanteLegal">Representante Legal:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.representanteLegal"
                />

                <label for="estadoEmpresa">Estado de la Empresa:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="empresa.estadoEmpresa"
                />

                <label for="fechaAlta">Fecha de Alta:</label>
                <input
                  type="date"
                  class="form-control mb-2"
                  v-model="empresa.fechaAlta"
                />

                <label for="notasAdicionales">Notas Adicionales:</label>
                <textarea
                  class="form-control mb-2"
                  rows="2"
                  v-model="empresa.notasAdicionales"
                ></textarea>

                <button
                  @click="actualizarEmpresa(empresa.codigo)"
                  class="btn btn-danger btn-sm float-end mt-2"
                >
                  Actualizar
                </button>
              </div>
            </div>
          </div>

          <div class="p-4 border shadow bg-white rounded mt-3">
            <h4 @click="toggleSection('contactos')">Contacto Empresas</h4>
            <div v-if="mostrarContactos">
              <div
                v-for="contacto in listadoContactosEmpresa"
                :key="contacto.empresaCodigo"
              >
              <br>
              <h4>{{contacto.nombreContacto}} - {{contacto.nombreEmpresa}}</h4>
                <label for="nombreContacto">Nombre de Contacto:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.nombreContacto"
                />

                <label for="cargo">Cargo:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.cargo"
                />

                <label for="departamento">Departamento:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.departamento"
                />

                <label for="email">Correo Electrónico:</label>
                <input
                  type="email"
                  class="form-control mb-2"
                  v-model="contacto.email"
                />

                <label for="telefono">Número de Teléfono:</label>
                <input
                  type="tel"
                  class="form-control mb-2"
                  v-model="contacto.telefono"
                />

                <label for="extension">Extensión:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.extension"
                />

                <label for="direccionOficina">Dirección de la Oficina:</label>
                <textarea
                  class="form-control mb-2"
                  rows="2"
                  v-model="contacto.direccionOficina"
                ></textarea>

                <label for="horarioTrabajo">Horario de Trabajo:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.horarioTrabajo"
                />

                <label for="nivelAcceso">Nivel de Acceso:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.nivelAcceso"
                />

                <label for="relacionEmpresa">Relación con la Empresa:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.relacionEmpresa"
                />

                <label for="fechaIngreso">Fecha de Ingreso:</label>
                <input
                  type="date"
                  class="form-control mb-2"
                  v-model="contacto.fechaIngreso"
                />

                <label for="fotoPerfil">Foto de Perfil:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.fotoPerfil"
                />

                <label for="observaciones">Observaciones:</label>
                <textarea
                  class="form-control mb-2"
                  rows="2"
                  v-model="contacto.observaciones"
                ></textarea>

                <label for="estadoContacto">Estado del Contacto:</label>
                <input
                  type="text"
                  class="form-control mb-2"
                  v-model="contacto.estadoContacto"
                />

                <label for="notasAdicionales">Notas Adicionales:</label>
                <textarea
                  class="form-control mb-2"
                  rows="2"
                  v-model="contacto.notasAdicionales"
                ></textarea>

                <button
                  @click="actualizarContacto(contacto.empresaCodigo)"
                  class="btn btn-danger btn-sm float-end mt-2"
                >
                  Actualizar
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const { createApp } = Vue;

      const app = createApp({
        data() {
          return {
            listado: [],
            listadoEmpresas: [],
            listadoContactosEmpresa: [],
            mostrarAlumnos: false,
            mostrarEmpresas: false,
            mostrarContactos: false,
          };
        },
        mounted() {
          axios
            .get("datos.json") // Asegúrate de que el archivo se llama 'datos.json'
            .then((response) => {
              this.listado = response.data.alumnos; // Accede a la sección "alumnos"
              this.listadoEmpresas = response.data.empresas; // Accede a la sección "empresas"
              this.listadoContactosEmpresa = response.data.contactosEmpresas; // Accede a la sección "contactosEmpresas"
            })
            .catch((error) => {
              console.error("Hubo un error al cargar los datos:", error);
            });
        },
        methods: {
          toggleSection(section) {
            if (section === "alumnos") {
              this.mostrarAlumnos = !this.mostrarAlumnos;
            } else if (section === "empresas") {
              this.mostrarEmpresas = !this.mostrarEmpresas;
            } else if (section === "contactos") {
              this.mostrarContactos = !this.mostrarContactos;
            }
          },
          actualizarAlumno(codigo) {
            alert(`Alumno ${codigo} actualizado`);
          },
          registrarAlumno() {
            alert("Alumno registrado");
          },
          actualizarEmpresa(codigo) {
            alert(`Empresa ${codigo} actualizada`);
          },
          actualizarContacto(codigo) {
            alert(`Contacto ${codigo} actualizado`);
          },
        },
      });

      app.mount("#app");
    </script>
  </body>
</html>
